(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();class p extends HTMLElement{constructor(){super()}connectedCallback(){const t=this.attachShadow({mode:"open"}),r=document.querySelector("template"),c=document.createElement("link");c.setAttribute("rel","stylesheet"),c.setAttribute("href","./assets/shadowstyle.css"),t.appendChild(c),t.appendChild(r.content.cloneNode(!0))}}customElements.define("vim-component",p);const f=async n=>{try{const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);const r=await t.json();if(!r)throw new Error("No data");return r}catch(t){return console.error(t.message),t}},y=(n,t)=>Object.values(n).find(e=>(e==null?void 0:e.htmlId)===(t==null?void 0:t.id)),h=(n,t)=>{t.textContent=(n==null?void 0:n.title)??""},w=(n,t)=>{const r=["<kbd>","</kbd>"],c=e=>e==null?void 0:e.replace(/</g,"&lt;");for(const{keyword:e,additional_keyword2:o,additional_keyword3:s,description:i}of n.commands){const a=[e,o,s].map(c).filter(Boolean).map((u,m)=>`${m===0?"":" or "}${r[0]}${u}${r[1]}`).join(""),l=document.createElement("li");l.innerHTML=`${a} - ${i}`,t.appendChild(l)}},C=(n,t)=>{t.innerHTML=(n==null?void 0:n.tip)??"",t.innerHTML||(t.style.display="none")},g=async()=>{const n=await f("./data/en_us.json");if(n instanceof Error){const o=document.createElement("p");o.textContent=n.message,document.body.appendChild(o);return}const r=Array.from(document.querySelectorAll("vim-component")).map(o=>y(n,o)).filter(Boolean);for(const o of r){const s=document.querySelector(`#${o.htmlId}`),i=s.querySelector("[name='heading']");h(o,i);const d=s.querySelector("[name='list']");w(o,d);const a=s.querySelector("[name='tip']");C(o,a)}const c=document.querySelector("footer"),e=document.createElement("a");e.setAttribute("href","https://github.com/sazk07/vim-cheatsheet-web-components"),e.textContent="GitHub",c.textContent=`${n.footer} `,c.appendChild(e)};g();
